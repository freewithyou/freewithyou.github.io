---
layout:     post
title:      Krita AI 使用手册（一）
subtitle:   Krita AI Handbook
date:       2025-10-27
author:     Tim
header-img: img/post-bg-cook.jpg
catalog: true
tags:
    - Krita AI
---

## 前言

本文翻译自官方手册，如需查阅原文档，请转到（https://docs.interstice.cloud/basics/）。

---

<div> <p>本指南假设你已经完成了<a href="/installation">安装</a>。它涵盖了主UI的基本介绍和一些最佳实践。</p>
<h2>图像生成</h2>
<p>创建新文档后，AI图像生成面板（docker）应该如下所示：</p>
<p><img src="/_astro/generation-docker.Cwwncv1X_Z22EAIw.webp" alt="AI图像生成面板" width="432" height="197" loading="lazy" decoding="async"></p>
<p>首先要做的是在文本输入框（prompt）中输入一些文本，然后点击 <span style="border-width: 1px;"> <svg width="1em" height="1em" data-icon="plugin/generate-dark">   <symbol viewBox="0 0 135.467 135.467"><path fill="#c8c8c8" d="M2.117 115.878c15.238-2.434 21.604-24.007 30.694-25.8 11.066-2.389 25.56 5.06 25.505 17.793-.062 8.72-10.191 22.404-20.166 22.539-17.065-.1-27.166-3.392-36.033-14.532m45.671-32.622 49.675-47.302c3.507-2.947 8.454-2.49 13.049 1.038 4.733 4.038 6.615 12.203 3.558 15.273l-48.488 49.378c-6.772-5.049-13.707-9.886-17.794-18.387M3.153 56.012c13.625-4.393 21.8-13.146 24.334-26.413 3.531 12.844 10.004 23.13 26.205 24.957-17.728 2.49-22.59 13.71-24.958 26.622-2.936-14.742-10.46-24.27-25.58-25.166m37.659-28.418C52.179 23.93 59 16.627 61.113 5.56c2.947 10.715 8.347 19.296 21.862 20.82-14.79 2.077-18.846 11.437-20.82 22.21-2.45-12.299-8.728-20.247-21.342-20.995m46.492 81.195c12.289-3.963 19.663-11.857 21.947-23.823 3.185 11.584 9.023 20.861 23.635 22.51-15.989 2.244-20.374 12.363-22.51 24.01-2.647-13.297-9.434-21.89-23.072-22.698"></path></symbol><use href="#ai:local:plugin/generate-dark"></use>  </svg> <span>生成</span> </span> （Shift + Enter）。这将忽略画布中任何现有内容，并生成一个相同大小的新图像。</p>
<aside aria-label="Tip"> <p aria-hidden="true"> <svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"></path><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"></path></svg> 提示 </p> <div> <p>如果画布尺寸（宽度/高度）较大，图像生成将需要更长时间。你可能希望从较小的分辨率开始实验。
<a href="#large-resolutions">了解更多关于分辨率的信息</a></p> </div> </aside>
<h3>应用结果</h3>
<p>图像生成后，它会作为<em>预览</em>显示在画布上。通常会为相同的输入生成多个图像，然后选择最合适的一个。结果会添加到生成历史中，你可以在其中快速选择和比较它们。</p>
<p><img src="/_astro/generation-history.cCeBQZxm_2rOnca.webp" alt="生成历史" width="428" height="339" loading="lazy" decoding="async"></p>
<p>要应用其中一个结果，请点击其 <span style="border-width: 1px;"> <svg width="1em" height="1em" data-icon="plugin/apply-dark">   <symbol viewBox="0 0 42 42"><path fill="#c8c8c8" d="m39.04 7.604-2.398-1.93c-1.182-.95-1.869-.939-2.881.311L16.332 27.494l-8.111-6.739c-1.119-.94-1.819-.89-2.739.26l-1.851 2.41c-.939 1.182-.819 1.853.291 2.78l11.56 9.562c1.19 1 1.86.897 2.78-.222l21.079-25.061c.99-1.19.93-1.901-.301-2.88"></path></symbol><use href="#ai:local:plugin/apply-dark"></use>  </svg> <span>应用</span> </span> 按钮，
或双击缩略图。这将把生成的结果作为新图层添加到图层堆栈的顶部，并移除预览。你可以根据需要应用任意数量的结果，以便<a href="#generate-erase">保留部分或混合它们</a>。</p>
<aside aria-label="Note"> <p aria-hidden="true"> <svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 11a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1Zm.38-3.92a1 1 0 0 0-.76 0 1 1 0 0 0-.33.21 1.15 1.15 0 0 0-.21.33 1 1 0 0 0 .21 1.09c.097.088.209.16.33.21A1 1 0 0 0 13 8a1.05 1.05 0 0 0-.29-.71 1 1 0 0 0-.33-.21ZM12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm0 18a8 8 0 1 1 0-16.001A8 8 0 0 1 12 20Z"></path></svg> 注意 </p> <div> <p>起初，应用结果可能感觉不太直观，但通常比显式丢弃所有不需要的结果更高效。</p> </div> </aside>
<h3>强度</h3>
<p>强度滑块控制画布内容在图像生成中被使用的程度。请注意，选择小于100%的值会将生成操作更改为 <span style="border-width: 1px;"> <svg width="1em" height="1em" data-icon="plugin/refine-dark">   <symbol viewBox="0 0 12.7 12.7"><path fill="#c8c8c8" d="M11.207.855c-2.097 1.973-3.104 3.18-4.585 3.97.368.306 1.17 1.201 1.372 1.779 1.19-1.677 2.645-2.533 4.677-3.836-.043-.704-1.054-1.777-1.464-1.913M6.371 5.132c.331.28 1.044 1.204 1.177 1.713-.097.214-.409.477-.594.564-.13-.46-.83-1.392-1.202-1.674.097-.25.413-.531.62-.603M5.454 6.17c.22.038.94 1.097 1.076 1.37-.217-.003-.802.005-1.018.14l-.268.228c-.138.128-.242.294-.348.458L.53 12.024c-.265 0-.508-.445-.454-.569l4.351-3.89c.116-.043.339-.177.433-.232l.244-.203c.173-.208.296-.727.349-.96M.139 4.949c1.269-.41 2.03-1.225 2.266-2.46.33 1.196.932 2.154 2.441 2.324-1.651.232-2.104 1.277-2.325 2.48C2.248 5.919 1.547 5.032.14 4.949m3.506-2.647C4.706 1.96 5.34 1.28 5.537.249c.275.998.778 1.798 2.037 1.94-1.378.193-1.756 1.065-1.94 2.068-.228-1.145-.813-1.886-1.988-1.955m4.331 7.562C9.12 9.495 9.808 8.76 10.02 7.645c.297 1.08.84 1.944 2.201 2.097-1.489.21-1.897 1.152-2.096 2.236-.247-1.238-.879-2.038-2.15-2.114"></path></symbol><use href="#ai:local:plugin/refine-dark"></use>  </svg> <span>优化</span> </span> ，也称为<em>图像到图像</em>。
AI模型不会从头开始生成新图像，而是会使用当前画布内容作为起点。强度越低，对现有内容的更改越少。</p>
<p><img src="/_astro/strength-slider.BZz0yTJw_ZdknNI.webp" alt="强度滑块" width="429" height="72" loading="lazy" decoding="async"></p>
<p><a href="#refinement">在下方了解更多关于优化的信息。</a></p>
<aside aria-label="Tip"> <p aria-hidden="true"> <svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"></path><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"></path></svg> 提示 </p> <div> <p>如果你想优化之前生成的图像，请确保<em>先应用它</em>！
否则，你可能最终会优化一个空白画布，并得到大多是白色的结果。</p> </div> </aside>
<h3>选区</h3>
<p>在画布上创建选区将把图像生成限制在选定区域内。请注意，当强度为100%时，生成操作会变为 <span style="border-width: 1px;"> <svg width="1em" height="1em" data-icon="plugin/inpaint-fill-dark">   <symbol viewBox="0 0 12.7 12.7"><path fill="#666" stroke="#f0f0f0" stroke-dasharray="1.05833, 0.52916700000000005" stroke-width=".529" d="M3.001 7.424c.374-.907 1.515-4.004 2.746-3.873 1.17-.341.351-2.32 2.126-2.254 3.17.052 3.932 2.088 4.006 3.643l-.144 5.5c-.075 1.932-2.83 1.785-4.259 1.536-3.325-1.446-4.109-.145-4.475-4.552Z"></path><path fill="#c8c8c8" d="m3.274.184-.72.783.596.613-2.835 2.8L4.41 8.297 7.105 5.48l.542.543.871-.844Zm.603 2.314L5.66 4.265l-3.649.027zm2.356 5.974c1.329-.415 2.126-1.244 2.373-2.5.344 1.216.975 2.19 2.555 2.363-1.728.235-2.203 1.297-2.433 2.52-.287-1.396-1.02-2.298-2.495-2.383"></path></symbol><use href="#ai:local:plugin/inpaint-fill-dark"></use>  </svg> <span>填充</span> </span> 
这也称为<em>修复</em>。除了填充外，下拉菜单还允许你选择各种其他操作，这些操作会影响周围内容如何影响要生成的选定区域。<a href="/selections">了解更多关于选区修复的信息。</a></p>
<p><img src="/_astro/selections.BzFeHP9k_Ip1D3.webp" alt="选区" width="548" height="218" loading="lazy" decoding="async"></p>
<p>选区在强度小于100%时也能工作，此时生成的蒙版图像将始终是现有内容的某种变体。</p>
<aside aria-label="Tip"> <p aria-hidden="true"> <svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"></path><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"></path></svg> 提示 </p> <div> <p>你可以使用Krita的任何选择工具创建选区。如果你正在寻找分割对象的工具，请查看
<a href="https://github.com/Acly/krita-ai-tools"> Krita AI Tools插件 <svg width="1em" height="1em" data-icon="tabler/external-link">   <symbol viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke="none" d="M0 0h24v24H0z"></path><path d="M12 6H6a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6m-7 1 9-9m-5 0h5v5"></path></g></symbol><use href="#ai:local:tabler/external-link"></use>  </svg> </a> 。</p> </div> </aside>
<h3>控制</h3>
<p>使用图像生成时最大的挑战之一是让它按照你的意愿工作。当你只有一个模糊的总体想法，并且不太在意细节时，文本提示非常有用。但是，当你心中有特定的构图或风格时，通过<em>图像</em>控制生成会更加直观和精确。</p>
<p>这就是控制图层的用途。你可以使用
<span style="border-width: 1px;"> <svg width="1.25em" height="1em" data-icon="plugin/control-add-dark">   <symbol viewBox="0 0 526.987 421.59"><path fill="none" stroke="#c8c8c8" stroke-linecap="round" stroke-width="39.524" d="M380.63 140.84v250.432M505.601 266.3H255.17"></path><path fill="#c8c8c8" d="M337.469 310.778 201.54 405.375 24.532 289.405l38.812-28.526 139.88 94.586 63.02-44.61z"></path><path fill="#c8c8c8" d="m225.268 305.332-26.44 19.338L23.854 209.377l35.948-24.603 139.173 86.427Zm97.942-139.708-125.03 75.629L24.3 132.742 198.18 24.909l126.433 79.259Z"></path></symbol><use href="#ai:local:plugin/control-add-dark"></use>  </svg> <span>添加控制图层</span> </span> 按钮创建它们。<a href="/control-layers">了解更多关于控制图层的信息。</a></p>
<h2>工作区</h2>
<p>插件工作区可以通过面板左上角的切换按钮进行更改。每个工作区都适合特定的任务。</p>
<p><img src="/_astro/workspaces-dropdown.DwwTYEEu_e0FCt.webp" alt="工作区下拉菜单" width="380" height="167" loading="lazy" decoding="async"></p>
<h3> upscale</h3>
<p>在这里你可以访问超分辨率模型。它们在增加图像大小的同时保持清晰的轮廓。与扩散模型相比，它们提供可预测和确定性的结果，不会与输入有太大偏差。</p>
<p><img src="/_astro/upscale-workspace.DPIU2Zpf_1AEF6j.webp" alt="Upscale Workspace" width="428" height="315" loading="lazy" decoding="async"></p>
<p>选择一个模型和所需的缩放因子。点击Upscale
将首先将画布调整为目标分辨率，然后在准备好后将生成的图像作为新图层添加。</p>
<p>勾选"Refine upscaled image"选项将额外运行选定的
扩散模型。它不会一次性处理整个图像，而是将其分割成多个块，逐个生成。这可以显著提高质量，但也可能引入不必要的变化。</p>
<ul>
<li>使用"Image guidance"选项使输出更接近原始图像。</li>
<li>如果你在图像中看到块接缝，请尝试增加"Tile overlap"。图像生成将需要更长时间，但块边界将变得不那么明显。</li>
</ul>
<aside aria-label="Note"> <p aria-hidden="true"> <svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 11a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1Zm.38-3.92a1 1 0 0 0-.76 0 1 1 0 0 0-.33.21 1.15 1.15 0 0 0-.21.33 1 1 0 0 0 .21 1.09c.097.088.209.16.33.21A1 1 0 0 0 13 8a1.05 1.05 0 0 0-.29-.71 1 1 0 0 0-.33-.21ZM12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm0 18a8 8 0 1 1 0-16.001A8 8 0 0 1 12 20Z"></path></svg> Note </p> <div> <p>在大分辨率上进行扩散会变得极其缓慢且占用大量内存。通过分块处理图像，4k及更高分辨率变得可管理。</p> </div> </aside>
<h3>Live</h3>
<p>实时模式专注于实时交互。默认情况下，质量会为速度让步。
UI被简化以显示生成图像的预览，该预览会随着你绘画或更改参数而更新。按 <span style="border-width: 1px;"> <svg width="1em" height="1em" data-icon="plugin/play-dark">   <symbol viewBox="0 0 42 42"><path fill="#80d0f0" stroke="#80d0f0" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M8.235 2.97v36.15l27.3-17.927Z"></path></symbol><use href="#ai:local:plugin/play-dark"></use>  </svg> <span>Play</span> </span> 按钮开始
实时生成。</p>
<p><img src="/_astro/live-sketch.C4nQmhTD_Z2677Cu.webp" alt="Scribbles with live preview" width="792" height="519" loading="lazy" decoding="async"></p>
<p><em>种子</em>通常会为相同的输入提供多个不同的结果。
在实时模式下，它保持不变，因此只有当你的输入改变时，图像才会改变。
修改种子以获得结果的不同变体。</p>
<h3>Custom Graph</h3>
<p>此工作区作为ComfyUI的扩展点。熟悉节点图界面的用户可以创建自定义工作流程并自动化任务。从Krita直接运行它们允许你与ComfyUI交换画布、图层和选择内容。</p>
<p>你还可以为参数化构建自定义UI！<a href="/custom-graph">了解更多关于Custom Graphs的信息。</a></p>
<h3>Animation</h3>
<p>动画工作区支持对特定图层的关键帧进行批处理操作。这允许一次性转换一系列手绘图像。</p>
<p>目前不支持动画模型或生成中间帧。</p>
<h2>最佳实践</h2>
<h3>优化</h3>
<p>优化（<em>图像到图像</em>）是在Krita中使用AI时最重要的概念之一。它允许通过逐步改进画布区域来可靠地收敛到所需结果。强度可以随着你接近最终图像而降低，以避免更改手绘内容。</p>
<p>强度值在30%到70%的范围内通常最有用，但这取决于各种因素，需要一些实验。优化的常见用途包括：</p>
<ul>
<li>向图像中的区域添加纹理、阴影和细节</li>
<li>去除伪影或不需要的内容，同时保持颜色和结构</li>
<li>风格迁移（包括使图像更真实或卡通化）</li>
</ul>
<h3>生成和擦除</h3>
<p>默认情况下，结果作为新图层应用。这使得很容易擦除图像中看起来不好的部分、覆盖重要内容或与周围环境融合不佳的部分。使用软刷来改善生成的填充内容之间的过渡。</p>
<p>如果有多个结果，其中有你喜欢的部分，请尝试应用所有结果并擦除你不想要的部分。这是一种快速混合和匹配不同图像的方法。</p>
<p>使用选区填充时，你可能会注意到生成的内容在一定程度上超出了选区。这会导致更平滑的过渡。其理念是，如果你生成的内容稍微多一点，很容易擦除。另一方面，如果填充区域太小，则很难在更大的尺寸上重新创建它（大小和形状会改变结果）。可以通过调整扩散设置中的"Grow"和"Feather"滑块来修改此行为。</p>
<p><img src="/_astro/diffusion-settings.Cmg7nGXz_2i1KKp.webp" alt="扩散设置" width="725" height="216" loading="lazy" decoding="async"></p>
<h3>大分辨率</h3>
<p>扩散模型在处理大图像时往往会遇到性能和内存问题。然而，使用高分辨率画布有很好的理由：</p>
<ul>
<li>编辑高分辨率照片</li>
<li>用手绘制图像的重要部分</li>
<li>生成更多主题或以更高细节生成</li>
</ul>
<p>插件的理念是，你不应该为了图像生成而在你的绘图/绘画/照片的质量上妥协。它
将自动裁剪和调整图像大小以适应技术要求，并保持合理的生成时间。<a href="/resolutions">了解更多关于它的作用和如何配置它</a>。</p> </div>


